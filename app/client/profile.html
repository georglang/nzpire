<!--
FH Salzburg 2013
MultiMediaTechnology
Lizenz: GNU Affero General Public License (AGPL)

Students:
Altmann Christoph
Lang Georg
Margreiter Daniel
Schaekermann Mike
-->

<template name="profile">
	<div id="profileTemplate">
		{{#if currentUser.services}}
			<div id="profileContainer">
				<img id="profileImg" src="{{pictureUrl}}" alt="profile image"/>
				{{#if notOwnProfile}}   
					<div id="followState">
						<div class="{{show}} btn {{followBtn}}" id="{{id}}">{{show}}</div>
					</div>
				{{/if}}
				<div id="nameField">
					<span id="name" class="editable">{{userName}}</span><img id="editIcon" src="/img/pen.png">
				</div>
				<div class="profilListItem" id="email">
					<img src="/img/email.png">
					<span>{{email}}</span>
				</div>
				<div class="profilListItem">
					<img class="imgFollow" src="/img/following.png">
					<span>Following</span>
					<div class="number">
						<span>{{getFollowingLength}}</span>
					</div>
				</div>		
				<div class="profilListItem">
					<img class="imgFollow" src="/img/followers.png">
					<span>Follower</span>
					<span class="number">{{getFollowerLength}}</span>
				</div>
				<div class="profilListItem">
					<h4>Connect Your Social Media Profiles</h4>
					{{>connectServices}}
				</div>
			</div>
			<div id="followBoxes">
				<h3 id="follower"> Following <img class="imgFollow" src="/img/following.png"> </h3>
				{{#each currentProfileFollowProfiles}}
					<div>
						<div class="linkToOtherProfile" data-id="{{_id}}">
							<span>{{name}}</span>
						<div>
						<img id="followImg" src="{{picture}}">
					</div>
				{{/each}}
			</div>
			<div id="followBoxes">
				<h3 id="follower"> Follower <img class="imgFollow" src="/img/followers.png"> </h3>
				{{#each getProfilesThatFollowCurrentProfile}}
					<div>
						<div class="linkToOtherProfile" data-id="{{_id}}">
							<span>{{name}}</span>
						<div>
						<img id="followImg" src="{{picture}}">
					</div>
				{{/each}}
			</div>
		{{/if}}
	</div>
</template>